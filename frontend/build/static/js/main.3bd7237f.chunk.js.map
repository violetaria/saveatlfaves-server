{"version":3,"sources":["CityData/Areas.js","Config.js","lib/useScript.js","Components/GoogleAnalyticsTag.js","Constants.js","Components/FAQModal.js","Logging.js","Components/AddNewPlaceModal.js","CityData/Neighborhoods.js","Components/AddLinkModal.js","Components/EmailSubscription.js","Components/CallToActionButton.js","Components/SuggestedPlaceCards.js","Components/NeighborhoodCards.js","Components/NearbySpots.js","Components/PlaceResultMain.js","CityData/Places.js","Components/PlacesAutosuggestion.js","Components/PlaceFilterDisplay.js","Components/ShareOptions.js","App.js","serviceWorker.js","index.js"],"names":["Areas","buckhead","midtown","west_midtown","downtown","east_side","south_side","Config","GoogleAPIKey","process","GoogleAnalyticsID","cachedScripts","useScript","src","useState","loaded","error","state","setState","useEffect","includes","push","script","document","createElement","async","onScriptLoad","onScriptError","index","indexOf","splice","remove","addEventListener","body","appendChild","removeEventListener","GoogleAnalyticsTag","props","analyticsID","window","dataLayer","gtag","arguments","Date","ga","Constants","AddPlaceURL","City","SiteURL","FAQEntry","getBody","__html","expanded","style","cursor","onClick","event","this","title","dangerouslySetInnerHTML","React","Component","FAQModal","renderLink","url","text","target","addPlaceLink","consumerFAQs","bizFAQs","visible","shouldShow","onOk","onClose","width","onCancel","footer","map","faq","key","LogEngagementEvent","action","label","value","event_category","event_label","AddNewPlaceModal","giftLink","setGiftLink","email","setEmail","setError","placeDetails","setPlaceDetails","scriptLoaded","hasSubmitted","setHasSubmitted","counter","setCounter","resetAndClose","closeSoon","setTimeout","args","axios","post","place_details","gift_card_url","then","response","catch","data","destroyOnClose","okButtonProps","shape","className","cancelButtonProps","okText","onSelect","selected","placeholder","inputClassName","autocompletionRequest","types","location","lat","lng","radius","componentRestrictions","country","onChange","type","marginTop","Neighborhoods","AddLinkModal","place","name","place_id","placeID","EmailSubscription","onEmailChange","emailSubmitted","onEmailSubmit","length","emailError","emailSuccess","hideAddLinkModal","showAddModal","overlayClassName","trigger","onVisibleChange","placement","content","size","class","buttonClass","CallToActionButton","emailBody","giftCardURL","open","emailContact","href","SuggestedPlaceCards","suggestedPlaceCards","Title","Typography","suggestedPlaces","suggestion","backgroundSize","position","backgroundImage","imageURL","minHeight","textAlign","padding","level","margin","Array","keys","height","ref","passRef","justifyContent","moreAvailable","onLoadMore","AreaDropdown","currentArea","newArea","updateArea","Object","entries","NeighborhoodCards","neighborhoodsForArea","area","console","log","neighborhoods","firstBatch","slice","rest","array","i","j","Math","floor","random","shuffleArray","concat","componentDidMount","updateWindowDimensions","fetchSuggestionsForNeighborhood","componentWillUnmount","componentDidUpdate","prevProps","prevState","newNeighborhoods","selectedNeighborhood","loading","offset","windowWidth","innerWidth","fetchOffset","showingNeighborhoodsFor","createRef","neighborhood","undefined","get","params","suggestions","merged","nextOffset","maxWidth","max","getCardsForCurrentPage","min","loadMoreForCurrentNeighborhood","NearbySpots","marginBottom","PlaceResultMain","xs","sm","md","lg","xl","backgroundPosition","align","span","address","split","top","placeURL","AtlPlaces","image_attribution","PlaceAutosuggestion","maxSuggestions","sanitizeInput","input","trim","toLowerCase","replace","getSuggestions","inputValue","results","filter","special","getSuggestionValue","renderSuggestion","newValue","onSearchChanged","onSuggestionsFetchRequested","onSuggestionsClearRequested","renderInputComponent","inputProps","onFocus","focusInputOnSuggestionClick","highlightFirstSuggestion","onSuggestionSelected","onPlaceSelected","PlaceFilterDisplay","updateAreaFromPlace","fetchPlaceInfo","scrollElementRef","placeKey","hasFetched","elementRef","ShareOptions","appId","handleClick","marginLeft","defaults","xsrfCookieName","xsrfHeaderName","AreaContext","createContext","App","path","pathname","faqVisible","shareVisible","addPlaceVisible","selfRef","history","pushState","Provider","hideFAQModal","hideAddModal","float","color","showFAQModal","display","marginRight","Consumer","Boolean","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.3bd7237f.chunk.js","sourcesContent":["const Areas = {\n  buckhead: \"Buckhead\",\n  midtown: \"Midtown\",\n  west_midtown: \"West Midtown\",\n  downtown: \"Downtown\",\n  east_side: \"East Side\",\n  south_side: \"South Side\"\n};\n\nexport default Areas;\n","const Config = {\n  GoogleAPIKey: process.env.REACT_APP_GOOGLE_API_KEY,\n  GoogleAnalyticsID: process.env.REACT_APP_GOOGLE_ANALYTICS_ID\n};\n\nexport default Config;\n","import { useState, useEffect } from \"react\";\n\n// From https://usehooks.com/useScript/\n\n// Hook\nlet cachedScripts = [];\nfunction useScript(src) {\n  // Keeping track of script loaded and error state\n  const [state, setState] = useState({\n    loaded: false,\n    error: false\n  });\n\n  useEffect(\n    () => {\n      // If cachedScripts array already includes src that means another instance ...\n      // ... of this hook already loaded this script, so no need to load again.\n      if (cachedScripts.includes(src)) {\n        setState({\n          loaded: true,\n          error: false\n        });\n      } else {\n        cachedScripts.push(src);\n\n        // Create script\n        let script = document.createElement(\"script\");\n        script.src = src;\n        script.async = true;\n\n        // Script event listener callbacks for load and error\n        const onScriptLoad = () => {\n          setState({\n            loaded: true,\n            error: false\n          });\n        };\n\n        const onScriptError = () => {\n          // Remove from cachedScripts we can try loading again\n          const index = cachedScripts.indexOf(src);\n          if (index >= 0) cachedScripts.splice(index, 1);\n          script.remove();\n\n          setState({\n            loaded: true,\n            error: true\n          });\n        };\n\n        script.addEventListener(\"load\", onScriptLoad);\n        script.addEventListener(\"error\", onScriptError);\n\n        // Add script to document body\n        document.body.appendChild(script);\n\n        // Remove event listeners on cleanup\n        return () => {\n          script.removeEventListener(\"load\", onScriptLoad);\n          script.removeEventListener(\"error\", onScriptError);\n        };\n      }\n    },\n    [src] // Only re-run effect if script src changes\n  );\n\n  return [state.loaded, state.error];\n}\n\nexport default useScript;\n","import useScript from \"../lib/useScript\";\n\nfunction GoogleAnalyticsTag(props) {\n  const [loaded] = useScript(\n    \"https://www.googletagmanager.com/gtag/js?id=\" + props.analyticsID\n  );\n  if (loaded) {\n    window.dataLayer = window.dataLayer || [];\n    window.gtag = function() {\n      window.dataLayer.push(arguments);\n    };\n    window.gtag(\"js\", new Date());\n\n    window.gtag(\"config\", \"UA-157264978-1\");\n  } else {\n    window.gtag = function() {};\n    window.ga = function() {};\n  }\n  return null;\n}\n\nexport default GoogleAnalyticsTag;\n","const Constants = {\n  AddPlaceURL: \"/addplace\",\n  City: \"Atlanta\",\n  SiteURL: \"https://saveatlfaves.org\"\n};\n\nexport default Constants;\n","import React from \"react\";\nimport { Modal } from \"antd\";\nimport Constants from \"../Constants\";\n\nclass FAQEntry extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false\n    };\n  }\n\n  getBody = () => {\n    return { __html: this.props.body };\n  };\n\n  render() {\n    return (\n      <>\n        <h3\n          style={{ cursor: \"pointer\" }}\n          onClick={event => this.setState({ expanded: !this.state.expanded })}\n        >\n          {this.props.title}\n        </h3>\n        {this.state.expanded && (\n          <p dangerouslySetInnerHTML={this.getBody()}></p>\n        )}\n      </>\n    );\n  }\n}\n\nfunction FAQModal(props) {\n  function renderLink(url, text, target) {\n    target = target || \"_blank\";\n    return \"<a target='\" + target + \"' href='\" + url + \"'>\" + text + \"</a>\";\n  }\n\n  function addPlaceLink(text) {\n    return renderLink(Constants.AddPlaceURL, text, \"_self\");\n  }\n\n  const consumerFAQs = [\n    {\n      title: \"What is SaveATLFaves?\",\n      body: `SaveATLFaves is a directory of ${Constants.City} restaurants and coffee shops that offer online gift cards for purchase. It’s our hope that by providing this resource, we’ll be able to mobilize loyal customers to provide much-needed support for their favorite places in town.`\n    },\n    {\n      title: \"Why isn’t my favorite business on your site?\",\n      body:\n        `Please help us add your fave ${Constants.City} food & beverages spots ` +\n        addPlaceLink(\"here\") +\n        \". We're open to adding more small business categories if this catches on.\"\n    },\n    {\n      title:\n        \"How else can I support our local businesses beyond purchasing a gift card?\",\n      body:\n        \"Delivery and pickup are great options! Some restaurants that don’t normally offer delivery have started to offer curbside pickup during the pandemic so check their websites and social media to see what’s available. <br />\" +\n        \"Tip generously if you can (even for delivery/pickup), since employees are doing extra work and putting their health at risk. <br />\" +\n        \"Encourage the government to get involved. Sign this \" +\n        renderLink(\"http://chng.it/jM97Sbf9ct\", `${Constants.City} petition`) +\n        \" to encourage lawmakers to offer emergency small business loans. Please call your US Representative and your Senators. You can be connected to the capitol switchboard at 202-224-3121. Demand that small businesses are part the federal stimulus plan.\"\n    },\n    {\n      title: `Why is this just for the ${Constants.City}? Can you do this for my city?`,\n      body:\n        `As ${Constants.City} natives, we started this project for our community. Over the past days, people have launched similar tools for their specific cities, or even nationally. Check out ` +\n        renderLink(\"https://thegivingkichen.org/\", \"The Giving Kitchen\") +\n        \", \" +\n        renderLink(\"https://helpmainstreet.com/\", \"Help Main Street\") +\n        \", \" +\n        renderLink(\"https://givelocal.co/\", \"GiveLocal\") +\n        \", and \" +\n        renderLink(\n          \"https://rallyforrestaurants.com/\",\n          \"Rally for Restaurants\"\n        ) +\n        \".\"\n    },\n    {\n      title: \"Who built this? And why?\",\n      body:\n        \"I'm Terri Chu and I adapted this site from the one originally created for San Francisco for Kaitlyn & Mike Krieger -- a husband and wife duo in San Francisco. We’re no longer going out because of COVID-19 (San Francisco is under a “shelter in place” ordinance), so we started buying gift cards to help support our favorite cafes and restaurants during this unpredictable time. SaveOurFaves is our simple way to make it easier for people to help local businesses through this difficult time. We got help and advice from some great friends and local business owners, in particular Phil Levin, Zack Schwab, Kristen Berman, Stefanie Krieger, Melissa Dyrdahl, Laura Buhler, and Paul Einbund. You can contact us with any questions about the site at \" +\n        renderLink(\"mailto:info@saveourfaves.org\", \"info@saveourfaves.org\") +\n        \" and see more about why we decided to start it \" +\n        renderLink(\n          \"https://medium.com/@mikekrieger/launching-saveourfaves-lets-support-restaurants-with-gift-cards-c4fb3e1828cf\",\n          \"here\"\n        ) +\n        \".\"\n    }\n  ];\n  const bizFAQs = [\n    {\n      title: \"Why isn’t my business showing up in your search results?\",\n      body:\n        `Please help us add your ${Constants.City} food/beverage business ` +\n        addPlaceLink(\"here\") +\n        \". We're open to adding more small business categories if this catches on.\"\n    },\n    {\n      title:\n        \"My business offers gift certificates, but your site says we don’t\",\n      body: \"Please let us know the details \" + addPlaceLink(\"here\") + \".\"\n    },\n    {\n      title: \"How can I start offering online gift cards?\",\n      body:\n        \"The first step is to check with your POS provider. Many offer their own gift card features (e.g. Square, Toast, ShopKeep), and others integrate with specific third-party providers. If your POS provider doesn’t offer gift cards or integrate with third-party providers, there are some reasonable standalone eGift Card apps like GiftUp or GiftFly. If you’re considering other options, make sure that your business receives the fee for the gift card as soon as the customer purchases the card (otherwise that won’t help you during the crisis). Some services may also ask customers to pay an additional fee when they buy a gift card but be sure it’s a small amount.\"\n    },\n    {\n      title: \"How can I encourage customers to buy gift cards?\",\n      body:\n        \"People are looking for ways they can support their favorite businesses, so don’t be afraid to let them know that gift cards will help. Reach out to your community on Facebook, Twitter, and Instagram, and use your email list to get in touch with your customers. Ask them to consider buying a gift card for one month of spending to help you weather this storm and keep paying staff, so that you can continue offering great food/coffee/etc. for years to come.\"\n    }\n  ];\n  return (\n    <Modal\n      title=\"FAQs\"\n      visible={props.shouldShow}\n      onOk={props.onClose}\n      width=\"80%\"\n      onCancel={props.onClose}\n      footer={<span></span>}\n    >\n      <h2>For Restaurant-goers</h2>\n      {consumerFAQs.map(faq => (\n        <FAQEntry key={faq.title} title={faq.title} body={faq.body} />\n      ))}\n      <h2>For Businesses</h2>\n      {bizFAQs.map(faq => (\n        <FAQEntry key={faq.title} title={faq.title} body={faq.body} />\n      ))}\n    </Modal>\n  );\n}\n\nexport default FAQModal;\n","export function LogEngagementEvent(action, label, value) {\n  window.gtag(\"event\", action, {\n    event_category: \"engagement\",\n    event_label: label,\n    value: value\n  });\n}\n\nexport default LogEngagementEvent;","import React, { useState } from \"react\";\nimport { Modal } from \"antd\";\nimport axios from \"axios\";\nimport { LogEngagementEvent } from \"../Logging\";\nimport Config from \"../Config\";\nimport useScript from \"../lib/useScript\";\nimport GooglePlacesAutocomplete from \"react-google-places-autocomplete\";\nimport Constants from \"../Constants\";\n\n// If you want to use the provided css\n// import 'react-google-places-autocomplete/dist/assets/index.css';\n\n// TODO this shares a lot of logic with AddLinkModal.js\n\nexport function AddNewPlaceModal(props) {\n  const [giftLink, setGiftLink] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [placeDetails, setPlaceDetails] = useState(null);\n  var googleURL =\n    \"https://maps.googleapis.com/maps/api/js?key=\" +\n    Config.GoogleAPIKey +\n    \"&libraries=places\";\n  const [scriptLoaded] = useScript(googleURL);\n\n  const [hasSubmitted, setHasSubmitted] = useState(false);\n  // this Counter is a hack so we can have two 'pages' in this Modal\n  const [counter, setCounter] = useState(0);\n  function resetAndClose() {\n    setGiftLink(\"\");\n    setEmail(\"\");\n    setHasSubmitted(false);\n    setCounter(0);\n    props.onClose();\n  }\n  function closeSoon() {\n    window.setTimeout(() => {\n      resetAndClose();\n    }, 5000);\n  }\n  function handleLinkSubmission() {\n    if (!placeDetails) {\n      setError(\"Please select a place above.\");\n      return;\n    }\n    setHasSubmitted(true);\n    LogEngagementEvent(\"user-action\", \"submitted-new-place\");\n    setCounter(1);\n    axios\n      .post(\"/api/places/submit_new_place\", {\n        place_details: placeDetails,\n        email: email,\n        gift_card_url: giftLink\n      })\n      .then(response => {\n        closeSoon();\n      })\n      .catch(error => {\n        if (\n          error.response &&\n          error.response.data &&\n          error.response.data.error\n        ) {\n          setError(error.response.data.error);\n          setHasSubmitted(false);\n          setCounter(0);\n        } else {\n          closeSoon();\n        }\n      });\n  }\n  return (\n    <Modal\n      title={<span>Add a New {Constants.City} Area Small Business</span>}\n      visible={props.shouldShow}\n      onOk={args => {\n        counter === 0 ? handleLinkSubmission() : resetAndClose();\n      }}\n      width=\"600px\"\n      destroyOnClose={true}\n      okButtonProps={{ shape: \"round\", className: \"primary-button\" }}\n      cancelButtonProps={{ shape: \"round\" }}\n      okText={hasSubmitted ? \"Done\" : \"Submit\"}\n      onCancel={resetAndClose}\n    >\n      {hasSubmitted && (\n        <div>\n          Thanks! We'll add this to our queue and add the listing as soon as\n          possible.\n        </div>\n      )}\n      {!scriptLoaded && <div>Loading...</div>}\n      {scriptLoaded && !hasSubmitted && (\n        <div>\n          <GooglePlacesAutocomplete\n            onSelect={selected => {\n              setError(null);\n              setPlaceDetails(selected);\n            }}\n            placeholder={\"Find the business\"}\n            inputClassName={\"add-link-modal-input\"}\n            autocompletionRequest={{\n              types: [\"establishment\"],\n              location: { lat: 37.2865732484, lng: -121.8287260832 },\n              radius: 5000,\n              componentRestrictions: {\n                country: \"us\"\n              }\n            }}\n            types={[\"establishment\"]}\n          />\n          <input\n            className=\"add-link-modal-input\"\n            onChange={event => {\n              setGiftLink(event.target.value);\n            }}\n            type=\"text\"\n            placeholder=\"Gift Card Link (if you know it)\"\n            value={giftLink}\n          />\n          <input\n            className=\"add-link-modal-input\"\n            onChange={event => {\n              setEmail(event.target.value);\n            }}\n            type=\"text\"\n            placeholder=\"Contact Email (optional)\"\n            value={email}\n          />\n          {error && <div style={{ marginTop: 8 }}>{error}</div>}\n        </div>\n      )}\n    </Modal>\n  );\n}\n\nexport default AddNewPlaceModal;\n","\nconst Neighborhoods = {\"midtown\": [{\"name\": \"Midtown\", \"key\": \"midtown\", \"image\": null}, {\"name\": \"Ansley Park\", \"key\": \"ansley_park\", \"image\": null}, {\"name\": \"Atlantic Station\", \"key\": \"atlantic_station\", \"image\": null}, {\"name\": \"Georgia Tech\", \"key\": \"georgia_tech\", \"image\": null}, {\"name\": \"Technology Square\", \"key\": \"technology_square\", \"image\": null}, {\"name\": \"Home Park\", \"key\": \"home_park\", \"image\": null}, {\"name\": \"Loring Heights\", \"key\": \"loring_heights\", \"image\": null}, {\"name\": \"Sherwood Forest\", \"key\": \"sherwood_forest\", \"image\": null}], \"buckhead\": [{\"name\": \"Lindberg\", \"key\": \"lindberg\", \"image\": null}, {\"name\": \"Buckhead\", \"key\": \"buckhead\", \"image\": null}], \"downtown\": [{\"name\": \"Castleberry Hill\", \"key\": \"castleberry_hill\", \"image\": null}, {\"name\": \"Fairlie-Poplar\", \"key\": \"fairlie-poplar\", \"image\": null}, {\"name\": \"Five Points\", \"key\": \"five_points\", \"image\": null}, {\"name\": \"Hotel District\", \"key\": \"hotel_district\", \"image\": null}, {\"name\": \"Peachtree Center\", \"key\": \"peachtree_center\", \"image\": null}, {\"name\": \"SoNo\", \"key\": \"sono\", \"image\": null}, {\"name\": \"South Downtown\", \"key\": \"south_downtown\", \"image\": null}], \"east_side\": [{\"name\": \"Atkins Park\", \"key\": \"atkins_park\", \"image\": null}, {\"name\": \"Avondale Estates\", \"key\": \"avondale_estates\", \"image\": null}, {\"name\": \"Cabbagetown\", \"key\": \"cabbagetown\", \"image\": null}, {\"name\": \"Candler Park\", \"key\": \"candler_park\", \"image\": null}, {\"name\": \"Druid Hills\", \"key\": \"druid_hills\", \"image\": null}, {\"name\": \"Decatur\", \"key\": \"decatur\", \"image\": null}, {\"name\": \"East Atlanta\", \"key\": \"east_atlanta\", \"image\": null}, {\"name\": \"East Lake\", \"key\": \"east_lake\", \"image\": null}, {\"name\": \"Edgewood\", \"key\": \"edgewood\", \"image\": null}, {\"name\": \"Inman Park\", \"key\": \"inman_park\", \"image\": null}, {\"name\": \"Kirkwood\", \"key\": \"kirkwood\", \"image\": null}, {\"name\": \"Lake Claire\", \"key\": \"lake_claire\", \"image\": null}, {\"name\": \"Lindridge\\u2011Martin Manor\", \"key\": \"lindridge\\u2011martin_manor\", \"image\": null}, {\"name\": \"Morningside\\u2011Lenox Park\", \"key\": \"morningside\\u2011lenox_park\", \"image\": null}, {\"name\": \"Old Fourth Ward\", \"key\": \"old_fourth_ward\", \"image\": null}, {\"name\": \"Ormewood Park\", \"key\": \"ormewood_park\", \"image\": null}, {\"name\": \"Piedmont Heights\", \"key\": \"piedmont_heights\", \"image\": null}, {\"name\": \"Poncey-Highland\", \"key\": \"poncey-highland\", \"image\": null}, {\"name\": \"Reynoldstown\", \"key\": \"reynoldstown\", \"image\": null}, {\"name\": \"Sweet Auburn\", \"key\": \"sweet_auburn\", \"image\": null}, {\"name\": \"Scottdale\", \"key\": \"scottdale\", \"image\": null}, {\"name\": \"Virginia-Highland\", \"key\": \"virginia-highland\", \"image\": null}], \"south_side\": [{\"name\": \"Amal Heights\", \"key\": \"amal_heights\", \"image\": null}, {\"name\": \"Benteen Park\", \"key\": \"benteen_park\", \"image\": null}, {\"name\": \"Blair Villa/Poole Creek\", \"key\": \"blair_villa/poole_creek\", \"image\": null}, {\"name\": \"Boulevard Heights\", \"key\": \"boulevard_heights\", \"image\": null}, {\"name\": \"Browns Mill Park\", \"key\": \"browns_mill_park\", \"image\": null}, {\"name\": \"Chosewood Park\", \"key\": \"chosewood_park\", \"image\": null}, {\"name\": \"Custer/McDonough/Guice\", \"key\": \"custer/mcdonough/guice\", \"image\": null}, {\"name\": \"Glenrose Heights\", \"key\": \"glenrose_heights\", \"image\": null}, {\"name\": \"Grant Park\", \"key\": \"grant_park\", \"image\": null}, {\"name\": \"High Point\", \"key\": \"high_point\", \"image\": null}, {\"name\": \"Joyland\", \"key\": \"joyland\", \"image\": null}, {\"name\": \"Lakewood\", \"key\": \"lakewood\", \"image\": null}, {\"name\": \"Lakewood Heights\", \"key\": \"lakewood_heights\", \"image\": null}, {\"name\": \"Norwood Manor\", \"key\": \"norwood_manor\", \"image\": null}, {\"name\": \"Orchard Knob\", \"key\": \"orchard_knob\", \"image\": null}, {\"name\": \"Peoplestown\", \"key\": \"peoplestown\", \"image\": null}, {\"name\": \"Polar Rock\", \"key\": \"polar_rock\", \"image\": null}, {\"name\": \"Rebel Valley Forest\", \"key\": \"rebel_valley_forest\", \"image\": null}, {\"name\": \"Rosedale Heights\", \"key\": \"rosedale_heights\", \"image\": null}, {\"name\": \"South Atlanta\", \"key\": \"south_atlanta\", \"image\": null}, {\"name\": \"South River Gardens\", \"key\": \"south_river_gardens\", \"image\": null}, {\"name\": \"Summerhill\", \"key\": \"summerhill\", \"image\": null}, {\"name\": \"Swallow Circle-Baywood\", \"key\": \"swallow_circle-baywood\", \"image\": null}, {\"name\": \"The Villages at Carver\", \"key\": \"the_villages_at_carver\", \"image\": null}, {\"name\": \"Thomasville Heights\", \"key\": \"thomasville_heights\", \"image\": null}, {\"name\": \"Woodland Hills\", \"key\": \"woodland_hills\", \"image\": null}], \"west_midtown\": [{\"name\": \"Berkeley Park\", \"key\": \"berkeley_park\", \"image\": null}, {\"name\": \"Blandtown\", \"key\": \"blandtown\", \"image\": null}, {\"name\": \"Knight Park/Howell Station\", \"key\": \"knight_park/howell_station\", \"image\": null}, {\"name\": \"Marietta Street Artery\", \"key\": \"marietta_street_artery\", \"image\": null}]};\nexport default Neighborhoods;\n","import React, { useState } from \"react\";\nimport { Modal } from \"antd\";\nimport axios from \"axios\";\nimport { LogEngagementEvent } from \"../Logging\";\n\nexport function AddLinkModal(props) {\n  const [giftLink, setGiftLink] = useState(null);\n  const [hasSubmitted, setHasSubmitted] = useState(false);\n  const [counter, setCounter] = useState(0);\n  function resetAndClose() {\n    setGiftLink(null);\n    setHasSubmitted(false);\n    setCounter(0);\n    props.onClose();\n  }\n  function closeSoon() {\n    window.setTimeout(() => {\n      resetAndClose();\n    }, 5000);\n  }\n  function handleLinkSubmission() {\n    setHasSubmitted(true);\n    LogEngagementEvent(\"user-action\", \"submitted-new-place\");\n    setCounter(1);\n    axios\n      .post(\"/api/places/submit_gift_card_link\", {\n        place_id: props.place.placeID,\n        gift_card_url: giftLink\n      })\n      .then(response => {\n        closeSoon();\n      })\n      .catch(error => {\n        closeSoon();\n      });\n  }\n  return (\n    <Modal\n      title={\n        <span>\n          Add a Gift Card link for <b>{props.place.name}</b>\n        </span>\n      }\n      visible={props.shouldShow}\n      onOk={args => {\n        counter === 0 ? handleLinkSubmission() : resetAndClose();\n      }}\n      width=\"400px\"\n      destroyOnClose={true}\n      okButtonProps={{ shape: \"round\", className: \"primary-button\" }}\n      cancelButtonProps={{ shape: \"round\" }}\n      okText={hasSubmitted ? \"Done\" : \"Submit\"}\n      onCancel={resetAndClose}\n    >\n      {hasSubmitted && (\n        <div>\n          Thanks! We'll add this to our queue and get the listing updated as\n          soon as possible.\n        </div>\n      )}\n      {!hasSubmitted && (\n        <input\n          className=\"add-link-modal-input\"\n          onChange={event => {\n            setGiftLink(event.target.value);\n          }}\n          type=\"text\"\n          placeholder=\"Please paste in the link to their gift card site\"\n          value={giftLink}\n        />\n      )}\n    </Modal>\n  );\n}\n","import React from \"react\";\nimport { Button, Popover } from \"antd\";\nimport axios from \"axios\";\nimport { AddLinkModal } from \"./AddLinkModal\";\nimport { LogEngagementEvent } from \"../Logging\";\n\nexport class EmailSubscription extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: null,\n      emailSubmitted: false,\n      emailError: null,\n      emailSuccess: null,\n      showAddModal: false\n    };\n  }\n  onEmailChange = event => {\n    this.setState({\n      email: event.target.value,\n      emailSubmitted: false\n    });\n  };\n  onEmailSubmit = event => {\n    if (\n      !this.state.email ||\n      !this.state.email.length ||\n      this.state.email.indexOf(\"@\") === -1\n    ) {\n      this.setState({\n        emailError: \"Please enter an email.\"\n      });\n      return;\n    }\n    axios\n      .post(\"/api/places/submit_email\", {\n        email: this.state.email,\n        place_id: this.props.place.placeID\n      })\n      .then(response => {\n        this.setState({\n          emailError: null,\n          emailSuccess: true\n        });\n      })\n      .catch(error => {\n        this.setState({\n          emailError: \"Sorry, we couldn't save your email.\"\n        });\n      });\n  };\n  hideAddLinkModal = () => {\n    this.setState({ showAddModal: false });\n  };\n  render() {\n    return (\n      <Popover\n        overlayClassName=\"email-popover\"\n        trigger=\"click\"\n        onVisibleChange={visible => {\n          if (visible) {\n            LogEngagementEvent(\n              \"user-click\",\n              \"show-email-request-menu\",\n              this.props.place.placeID\n            );\n          }\n        }}\n        placement=\"bottomRight\"\n        content={\n          <div className=\"email-popover-inner\">\n            {!this.state.emailSuccess && (\n              <>\n                <div>\n                  <input\n                    onChange={this.onEmailChange}\n                    type=\"email\"\n                    value={this.state.email}\n                    className=\"email-popover-input\"\n                    placeholder=\"Enter your email\"\n                  />\n                  <Button\n                    className=\"email-confirm-button\"\n                    shape=\"round\"\n                    size=\"default\"\n                    onClick={this.onEmailSubmit}\n                    type=\"default\"\n                  >\n                    OK\n                  </Button>\n                </div>\n              </>\n            )}\n            {this.state.emailError && (\n              <div class=\"email-popover-error\">{this.state.emailError}</div>\n            )}\n            {!this.state.emailSuccess && (\n              <>\n                <AddLinkModal\n                  shouldShow={this.state.showAddModal}\n                  place={this.props.place}\n                  onClose={() => {\n                    this.hideAddLinkModal();\n                  }}\n                />\n                <p>\n                  We'll let the business know you're interested. We promise not\n                  to spam you.\n                </p>\n                <p>\n                  (If you've found their link{\" \"}\n                  <a\n                    onClick={() => {\n                      this.setState({ showAddModal: true });\n                    }}\n                  >\n                    let us know\n                  </a>\n                  )\n                </p>\n              </>\n            )}\n            {this.state.emailSuccess && (\n              <div class=\"email-popover-success\">\n                Thanks! We'll let them know.\n              </div>\n            )}\n          </div>\n        }\n      >\n        <Button\n          shape=\"round\"\n          size=\"default\"\n          className={this.props.buttonClass}\n          type=\"default\"\n        >\n          Request Gift Card\n        </Button>\n      </Popover>\n    );\n  }\n}\n","import React from \"react\";\nimport { Button } from \"antd\";\nimport { EmailSubscription } from \"./EmailSubscription\";\nimport { LogEngagementEvent } from \"../Logging\";\n\nexport class CallToActionButton extends React.Component {\n  render() {\n    var place = this.props.place;\n    var size = this.props.size;\n    const emailBody =\n      \"Hi there! I was on SaveYourFave.org and saw that \" +\n      place.name +\n      \" offers gift certificates over email. I want to support you all, so please let me know how to proceed. Thanks, and stay healthy.\";\n    const className =\n      size === \"large\" ? \"large-primary-button\" : \"secondary-button\";\n    return (\n      <div key={place.placeID}>\n        {place.giftCardURL && (\n          <Button\n            shape=\"round\"\n            size={size}\n            className={className}\n            type=\"default\"\n            onClick={event => {\n              LogEngagementEvent(\n                \"user-click\",\n                \"get-gift-card-\" + size,\n                place.placeID\n              );\n              window.open(place.giftCardURL);\n            }}\n          >\n            Get Gift Card\n          </Button>\n        )}\n        {!place.giftCardURL && place.emailContact && (\n          <Button\n            shape=\"round\"\n            size={size}\n            className={className}\n            type=\"default\"\n            onClick={event => {\n              LogEngagementEvent(\n                \"user-click\",\n                \"email-for-gift-card-\" + size,\n                place.placeID\n              );\n              window.location.href =\n                \"mailto:\" +\n                place.emailContact +\n                \"?subject=Buying a Gift Card%3F&body=\" +\n                emailBody;\n            }}\n          >\n            Get Gift Card\n          </Button>\n        )}\n        {!place.giftCardURL && !place.emailContact && (\n          <EmailSubscription place={this.props.place} buttonClass={className} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Button, Row, Typography } from \"antd\";\nimport Skeleton from \"react-loading-skeleton\";\nimport { CallToActionButton } from \"./CallToActionButton\";\n\nexport class SuggestedPlaceCards extends React.Component {\n  render() {\n    const { Title } = Typography;\n    var suggestedPlaceCards;\n    if (this.props.suggestedPlaces && this.props.suggestedPlaces.length) {\n      suggestedPlaceCards = this.props.suggestedPlaces.map(suggestion => (\n        <div key={suggestion.placeID} className=\"suggested-place\">\n          <Row\n            style={{\n              backgroundSize: \"cover\",\n              position: \"relative\",\n              backgroundImage: \"url(\" + suggestion.imageURL + \")\",\n              minHeight: \"80px\"\n            }}\n          ></Row>\n          <Row style={{ minHeight: \"88px\" }}>\n            <Title\n              className=\"suggestion-title\"\n              style={{\n                textAlign: \"center\",\n                width: \"100%\",\n                marginTop: \"12px\",\n                padding: \"0px 6px\"\n              }}\n              level={4}\n            >\n              {suggestion.name}\n            </Title>\n            <div style={{ margin: \"0px auto\" }}>\n              <CallToActionButton place={suggestion} size={\"default\"} />\n            </div>\n          </Row>\n        </div>\n      ));\n    } else {\n      suggestedPlaceCards = [...Array(9).keys()].map(placeholder => (\n        <div key={placeholder} className=\"suggested-place\">\n          <div style={{ marginTop: -4 }}>\n            <Skeleton height={168} />\n          </div>\n        </div>\n      ));\n    }\n    return (\n      <div ref={this.props.passRef}>\n        <section className=\"suggestions-container\">\n          <Row style={{ justifyContent: \"center\" }}>{suggestedPlaceCards}</Row>\n        </section>\n        {this.props.moreAvailable && (\n          <div style={{ textAlign: \"center\" }}>\n            <Button\n              className=\"primary-button\"\n              shape=\"round\"\n              size=\"default\"\n              onClick={this.props.onLoadMore}\n            >\n              Load More\n            </Button>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Typography } from \"antd\";\nimport Neighborhoods from \"../CityData/Neighborhoods\";\nimport Areas from \"../CityData/Areas\";\nimport axios from \"axios\";\nimport { SuggestedPlaceCards } from \"./SuggestedPlaceCards\";\n\nconst { Title } = Typography;\n\nfunction AreaDropdown(props) {\n  return (\n    <select\n      className=\"area-picker\"\n      value={props.currentArea}\n      onChange={event => {\n        const newArea = event.target.value;\n        props.updateArea(newArea);\n      }}\n    >\n      {Object.entries(Areas).map(([key, value]) => (\n        <option value={key}>{value}</option>\n      ))}\n    </select>\n  );\n}\n\nexport class NeighborhoodCards extends React.Component {\n  constructor(props) {\n    super(props);\n    const neighborhoods = this.neighborhoodsForArea(props.currentArea);\n    this.state = {\n      suggestedPlaces: null,\n      selectedNeighborhood: neighborhoods[0],\n      offset: 0,\n      fetchOffset: 0,\n      windowWidth: 0,\n      loading: true,\n      neighborhoods: neighborhoods,\n      showingNeighborhoodsFor: props.currentArea\n    };\n    this.ref = React.createRef();\n  }\n  neighborhoodsForArea = area => {\n    function shuffleArray(array) {\n      for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n      }\n    }\n    console.log(\"Area = \" + area);\n    console.log(\"Neighborhoods = \" + Neighborhoods[area]);\n    const neighborhoods = Neighborhoods[area];\n    const firstBatch = neighborhoods.slice(0, 6);\n    const rest = neighborhoods.slice(6);\n    shuffleArray(rest);\n    return firstBatch.concat(rest);\n  };\n  componentDidMount = () => {\n    this.updateWindowDimensions();\n    window.addEventListener(\"resize\", this.updateWindowDimensions);\n    this.fetchSuggestionsForNeighborhood(this.state.neighborhoods[0], this, 0);\n  };\n  componentWillUnmount = () => {\n    window.removeEventListener(\"resize\", this.updateWindowDimensions);\n  };\n  componentDidUpdate = (prevProps, prevState) => {\n    if (prevProps.currentArea !== this.props.currentArea) {\n      const newNeighborhoods = this.neighborhoodsForArea(\n        this.props.currentArea\n      );\n      this.setState({\n        selectedNeighborhood: newNeighborhoods[0],\n        loading: true,\n        suggestedPlaces: null,\n        offset: 0,\n        neighborhoods: newNeighborhoods\n      });\n      this.fetchSuggestionsForNeighborhood(newNeighborhoods[0], this, 0);\n    }\n  };\n  updateWindowDimensions = () => {\n    this.setState({ windowWidth: window.innerWidth });\n  };\n  fetchSuggestionsForNeighborhood(neighborhood, ref, fetchOffset) {\n    if (neighborhood === undefined) return;\n    this.setState({ loading: true });\n    axios\n      .get(\"/api/places/by_neighborhood\", {\n        params: {\n          neighborhood: neighborhood.key,\n          offset: fetchOffset\n        }\n      })\n      .then(response => {\n        const suggestions = response.data.suggestedPlaces;\n        const moreAvailable = response.data.moreAvailable;\n        const merged = (this.state.suggestedPlaces || []).concat(suggestions);\n        ref.setState((state, props) => {\n          const nextOffset = state.fetchOffset + suggestions.length;\n          return {\n            loading: false,\n            suggestedPlaces: merged,\n            fetchOffset: nextOffset,\n            moreAvailable: moreAvailable\n          };\n        });\n      })\n      .catch(error => {\n        ref.setState({ loading: false });\n      });\n  }\n  loadMoreForCurrentNeighborhood() {\n    this.fetchSuggestionsForNeighborhood(\n      this.state.selectedNeighborhood,\n      this,\n      this.state.fetchOffset\n    );\n  }\n  getCardsForCurrentPage() {\n    const neighborhoodCards = this.state.neighborhoods\n      .slice(this.state.offset)\n      .map(neighborhood => {\n        return (\n          <div\n            key={neighborhood.key}\n            className=\"neighborhood-card\"\n            style={{ textAlign: \"center\" }}\n          >\n            <div\n              className={\n                \"neighborhood-card-image\" +\n                (this.state.selectedNeighborhood &&\n                this.state.selectedNeighborhood.key === neighborhood.key\n                  ? \" neighborhood-card-image-selected\"\n                  : \"\")\n              }\n              onClick={event => {\n                this.setState({\n                  selectedNeighborhood: neighborhood,\n                  fetchOffset: 0,\n                  suggestedPlaces: null\n                });\n                this.fetchSuggestionsForNeighborhood(neighborhood, this, 0);\n              }}\n            >\n              <div\n                className={\n                  \"neighborhood-card-title\" +\n                  (this.state.selectedNeighborhood &&\n                  this.state.selectedNeighborhood.key === neighborhood.key\n                    ? \" neighborhood-card-title-selected\"\n                    : \"\")\n                }\n              >\n                {neighborhood.name}\n              </div>\n            </div>\n          </div>\n        );\n      });\n    return neighborhoodCards;\n  }\n  render() {\n    return (\n      <>\n        <div className=\"explore-neighborhood-section\">\n          <Title className=\"section-title\" level={4}>\n            Or explore by neighborhood in{\" \"}\n            <AreaDropdown\n              currentArea={this.props.currentArea}\n              updateArea={this.props.updateArea}\n            />\n          </Title>\n        </div>\n        {this.state.neighborhoods && (\n          <section\n            className=\"neighborhood-card-container\"\n            style={{\n              maxWidth:\n                this.state.windowWidth >= 576\n                  ? this.state.windowWidth - 200\n                  : this.state.windowWidth\n            }}\n          >\n            {this.state.offset !== 0 && (\n              <a\n                className={\n                  \"neighborhood-card-arrow neighborhood-card-arrow-left \" +\n                  (this.state.offset >= this.state.neighborhoods.length - 1\n                    ? \"neighborhood-card-arrow-disabled\"\n                    : \"\")\n                }\n                onClick={event => {\n                  this.setState({\n                    offset: Math.max(0, this.state.offset - 1)\n                  });\n                }}\n              >\n                {\"‹\"}\n              </a>\n            )}\n            {this.getCardsForCurrentPage()}\n            {this.state.offset < this.state.neighborhoods.length - 1 && (\n              <a\n                className={\n                  \"neighborhood-card-arrow neighborhood-card-arrow-right \" +\n                  (this.state.offset >= this.state.neighborhoods.length - 1\n                    ? \"neighborhood-card-arrow-disabled\"\n                    : \"\")\n                }\n                onClick={event => {\n                  this.setState({\n                    offset: Math.min(\n                      this.state.neighborhoods.length - 1,\n                      this.state.offset + 1\n                    )\n                  });\n                }}\n              >\n                ›\n              </a>\n            )}\n          </section>\n        )}\n        {(this.state.loading ||\n          (this.state.suggestedPlaces &&\n            this.state.suggestedPlaces.length > 0)) && (\n          <SuggestedPlaceCards\n            passRef={this.ref}\n            suggestedPlaces={this.state.suggestedPlaces}\n            moreAvailable={this.state.moreAvailable}\n            onLoadMore={() => {\n              this.loadMoreForCurrentNeighborhood();\n            }}\n          />\n        )}\n\n        {this.state.suggestedPlaces &&\n          this.state.suggestedPlaces.length === 0 &&\n          this.state.selectedNeighborhood && (\n            <p>No results for {this.state.selectedNeighborhood.name}</p>\n          )}\n      </>\n    );\n  }\n}\n\nexport default NeighborhoodCards;\n","import React from \"react\";\nimport { Row, Typography } from \"antd\";\nimport { SuggestedPlaceCards } from \"./SuggestedPlaceCards\";\n\nexport class NearbySpots extends React.Component {\n  render() {\n    const Title = Typography;\n    return (\n      <>\n        <Row\n          style={{\n            textAlign: \"center\",\n            marginTop: \"20px\",\n            marginBottom: \"20px\"\n          }}\n        >\n          <Title className=\"section-title\" style={{ margin: \"auto\" }} level={4}>\n            Local Gems Nearby\n          </Title>\n        </Row>\n        <SuggestedPlaceCards suggestedPlaces={this.props.suggestedPlaces} />\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport { Row, Col } from \"antd\";\nimport { AddLinkModal } from \"./AddLinkModal\";\nimport { CallToActionButton } from \"./CallToActionButton\";\nexport class PlaceResultMain extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showAddModal: false\n    };\n  }\n  hideAddLinkModal = () => {\n    this.setState({\n      showAddModal: false\n    });\n  };\n  render() {\n    var place = this.props.place;\n    if (!place) {\n      place = {\n        name: \"The Snug\",\n        address: \"2301 Fillmore Street\",\n        //\"giftCardURL\": \"https://www.toasttab.com/the-snug-san-francisco/giftcards\",\n        giftCardURL: null,\n        placeURL: null,\n        emailContact: null,\n        imageURL:\n          \"https://lh3.googleusercontent.com/p/AF1QipM09mIPRVymgGeEM5ZSYH21AhYHk-uZQPKrC8c=s1600-w800\",\n        placeID: \"ChIJ-_7qDsaAhYARKG4Gj6yw2ho\"\n      };\n      return null;\n    }\n    return (\n      <Row className=\"place-result\">\n        <Col\n          xs={24}\n          sm={24}\n          md={8}\n          lg={8}\n          xl={8}\n          style={{\n            minHeight: \"100px\",\n            backgroundPosition: \"center center\",\n            backgroundSize: \"cover\",\n            backgroundImage: \"url(\" + place.imageURL + \")\"\n          }}\n        ></Col>\n        <Col\n          xs={24}\n          sm={24}\n          md={16}\n          lg={16}\n          xl={16}\n          style={{ padding: \"8px 16px\" }}\n        >\n          <Row align=\"center\">\n            <Col span={14} className=\"flex-vertical\">\n              <h2 className=\"place-title\">{place.name}</h2>\n            </Col>\n            <Col span={10} className=\"flex-vertical\">\n              <div style={{ textAlign: \"right\" }} className=\"place-address\">\n                {place.address.split(\",\")[0]}\n              </div>\n            </Col>\n          </Row>\n          <Row style={{ minHeight: 80 }} align=\"bottom\">\n            <Col\n              xs={24}\n              sm={14}\n              md={14}\n              lg={14}\n              xl={14}\n              style={{ position: \"relative\", top: 12 }}\n            >\n              {place.giftCardURL && (\n                <p>\n                  {place.name} offers gift cards online. Consider prepaying for\n                  a month of spending.\n                </p>\n              )}\n              {!place.giftCardURL && place.emailContact && (\n                <p>Consider prepaying for a month of spending.</p>\n              )}\n              {!place.giftCardURL && !place.emailContact && (\n                <p>\n                  Do they have a link to sell gift cards?{\" \"}\n                  <a\n                    className=\"app-link\"\n                    onClick={() => this.setState({ showAddModal: true })}\n                  >\n                    Point us to it here.\n                  </a>\n                </p>\n              )}\n            </Col>\n            <Col\n              className=\"flex-vertical\"\n              xs={24}\n              sm={10}\n              md={10}\n              lg={10}\n              xl={10}\n            >\n              <div className=\"call-to-action-outer\">\n                <CallToActionButton place={place} size=\"large\" />\n              </div>\n            </Col>\n            <AddLinkModal\n              shouldShow={this.state.showAddModal}\n              place={place}\n              onClose={() => {\n                this.hideAddLinkModal();\n              }}\n            />\n          </Row>\n        </Col>\n      </Row>\n    );\n  }\n}\n","const AtlPlaces = [\n  {\n    name: \"Cooks & Soldiers\",\n    address: \"691 14th St NW, Atlanta\",\n    key: \"ChIJLTcZFewE9YgRHsW7wP1bEYs\",\n    image_attribution:\n      \"['<a href=\\\"https://maps.google.com/maps/contrib/118337154225877634384\\\">Cooks &amp; Soldiers</a>']\"\n  },\n  {\n    name: \"Public School 404\",\n    address: \"930 Howell Mill Rd, Atlanta\",\n    key: \"ChIJ____aJME9YgR_gyktYS9sa0\",\n    image_attribution:\n      \"['<a href=\\\"https://maps.google.com/maps/contrib/105849776590165710548\\\">REbranding 360</a>']\"\n  },\n  {\n    name: \"The Optimist\",\n    address: \"914 Howell Mill Rd, Atlanta\",\n    key: \"ChIJr9PpEZME9YgRYg1YifCbOw8\",\n    image_attribution:\n      \"['<a href=\\\"https://maps.google.com/maps/contrib/117726245392782967799\\\">The Optimist</a>']\"\n  },\n  {\n    name: \"Pijiu Belly\",\n    address: \"678 10th St NW, Atlanta\",\n    key: \"ChIJBedpKZME9YgR3VqRCKLPLTI\",\n    image_attribution:\n      \"['<a href=\\\"https://maps.google.com/maps/contrib/108513545042510219877\\\">Alex Moffitt</a>']\"\n  },\n  {\n    name: \"Monday Night Brewing\",\n    address: \"670 Trabert Ave NW, Atlanta\",\n    key: \"ChIJGaB3peUE9YgRnAlaZJyZO9g\",\n    image_attribution:\n      \"['<a href=\\\"https://maps.google.com/maps/contrib/108374775105419747538\\\">Monday Night Brewing</a>']\"\n  },\n  {\n    name: \"Food Terminal\",\n    address: \"1000 Marietta St NW #202, Atlanta\",\n    key: \"ChIJX7w9HaEF9YgRPR83q-zJWis\",\n    image_attribution:\n      \"['<a href=\\\"https://maps.google.com/maps/contrib/113930873037724142825\\\">Torrey Smith</a>']\"\n  }\n];\nexport default AtlPlaces;\n","import React from \"react\";\nimport AtlPlaces from \"../CityData/Places\";\nimport Autosuggest from \"react-autosuggest\";\nimport { LogEngagementEvent } from \"../Logging\";\nimport { AddNewPlaceModal } from \"./AddNewPlaceModal\";\nimport Constants from \"../Constants\";\n\nexport class PlaceAutosuggestion extends React.Component {\n  maxSuggestions = 8;\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"\",\n      showAddModal: false,\n      suggestions: []\n    };\n  }\n\n  sanitizeInput = input => {\n    return input\n      .trim()\n      .toLowerCase()\n      .replace(\"é\", \"e\");\n  };\n  getSuggestions = value => {\n    const inputValue = this.sanitizeInput(value);\n    const inputLength = inputValue.length;\n    if (inputLength < 3) {\n      return [];\n    } else {\n      const results = AtlPlaces.filter(\n        place => this.sanitizeInput(place.name).indexOf(inputValue) !== -1\n      ).slice(0, this.maxSuggestions);\n      if (results.length === 0) {\n        LogEngagementEvent(\"user-roadblock\", \"no-results\");\n      }\n      results.push({ special: \"letUsKnowRow\" });\n      return results;\n    }\n  };\n  getSuggestionValue = suggestion => suggestion.name || \"\";\n  renderSuggestion = suggestion => {\n    if (suggestion.special) {\n      return (\n        <div>\n          <div>Don't see your fave?</div>\n          <div>\n            <a\n              onClick={() => {\n                this.setState({ showAddModal: false });\n              }}\n              className=\"primary-link\"\n            >\n              Let us know\n            </a>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <div>{suggestion.name}</div>\n          <div className=\"autosuggest-address\">{suggestion.address}</div>\n        </div>\n      );\n    }\n  };\n  onChange = (event, { newValue }) => {\n    this.setState({\n      value: newValue\n    });\n    this.props.onSearchChanged(newValue);\n  };\n  onSuggestionsFetchRequested = ({ value }) => {\n    this.setState({\n      suggestions: this.getSuggestions(value)\n    });\n  };\n  onSuggestionsClearRequested = () => {\n    this.setState({\n      suggestions: []\n    });\n  };\n  renderInputComponent = inputProps => (\n    <div className=\"react-autosuggest__wrapper\">\n      <div className=\"react-autosuggest__left-icon\">🍽</div>\n      <input {...inputProps} />\n    </div>\n  );\n\n  render() {\n    const { value, suggestions } = this.state;\n    const inputProps = {\n      placeholder: `Search for an ${Constants.City} restaurant, coffee, brewery...`,\n      value,\n      onChange: this.onChange,\n      onFocus: event => {\n        LogEngagementEvent(\"user-action\", \"search-entered\");\n      }\n    };\n    return (\n      <div className=\"autosuggest-outer\">\n        <AddNewPlaceModal\n          shouldShow={this.state.showAddModal}\n          onClose={() => this.setState({ showAddModal: false })}\n        />\n        <Autosuggest\n          suggestions={suggestions}\n          focusInputOnSuggestionClick={false}\n          onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n          onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n          getSuggestionValue={this.getSuggestionValue}\n          highlightFirstSuggestion={true}\n          renderInputComponent={this.renderInputComponent}\n          onSuggestionSelected={(event, data) => {\n            if (data.suggestion.special) {\n              LogEngagementEvent(\n                \"user-click\",\n                \"tell-us-missing-place\",\n                this.state.value\n              );\n              this.setState({ showAddModal: true });\n            } else {\n              const key = data.suggestion.key;\n              this.props.onPlaceSelected(key);\n            }\n          }}\n          renderSuggestion={this.renderSuggestion}\n          inputProps={inputProps}\n        />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport axios from \"axios\";\nimport { NearbySpots } from \"./NearbySpots\";\nimport { PlaceResultMain } from \"./PlaceResultMain\";\nimport { PlaceAutosuggestion } from \"./PlacesAutosuggestion\";\nimport Areas from \"../CityData/Areas\";\n\nexport class PlaceFilterDisplay extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      hasFetched: false,\n      place: null,\n      suggestedPlaces: null\n    };\n    this.elementRef = React.createRef();\n  }\n\n  updateAreaFromPlace = place => {\n    if (Areas[place.area]) {\n      this.props.updateArea(place.area);\n    }\n  };\n\n  fetchPlaceInfo = (scrollElementRef, placeKey) => {\n    axios\n      .get(\"/api/places/detail\", {\n        params: {\n          place_id: placeKey\n        }\n      })\n      .then(response => {\n        this.updateAreaFromPlace(response.data.place);\n        const place = response.data.place;\n        const suggestions = response.data.suggestedPlaces;\n        this.setState((state, props) => {\n          return { place: place, suggestedPlaces: suggestions };\n        });\n      });\n  };\n  render() {\n    return (\n      <div ref={this.elementRef}>\n        <PlaceAutosuggestion\n          onPlaceSelected={placeID => {\n            this.fetchPlaceInfo(this.elementRef, placeID);\n          }}\n          onSearchChanged={newValue => {\n            if (newValue.length === 0) {\n              this.setState({ place: null, suggestedPlaces: null });\n            }\n          }}\n        />\n        <div style={{ textAlign: \"left\" }}>\n          <PlaceResultMain place={this.state.place} />\n          {this.state.suggestedPlaces &&\n            this.state.suggestedPlaces.length > 0 && (\n              <NearbySpots suggestedPlaces={this.state.suggestedPlaces} />\n            )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PlaceFilterDisplay;\n","import React from \"react\";\nimport { Button } from \"antd\";\nimport { FacebookProvider, Share } from \"react-facebook\";\n\nexport class ShareOptions extends React.Component {\n  shareToFB() {}\n  render() {\n    return (\n      <div>\n        <FacebookProvider appId=\"202370887681802\">\n          <Share href=\"https://saveatlfaves.org\">\n            {({ handleClick, loading }) => (\n              <Button\n                onClick={handleClick}\n                shape=\"round\"\n                className=\"secondary-button\"\n              >\n                Facebook\n              </Button>\n            )}\n          </Share>\n        </FacebookProvider>\n\n        <Button\n          style={{ marginLeft: 12 }}\n          shape=\"round\"\n          className=\"secondary-button\"\n          onClick={() => {\n            window.open(\n              \"https://twitter.com/intent/tweet?url=https://saveatlfaves.org&text=Atlanta%20businesses%20need%20us%20more%20than%20ever%20%E2%80%93%20gift%20cards%20can%20make%20a%20big%20difference.%20Please%20join%20me%20in%20supporting%20your%20favorite%20restaurants%20at\"\n            );\n          }}\n        >\n          Twitter\n        </Button>\n      </div>\n    );\n  }\n}\n\nexport default ShareOptions;\n","import \"./App.scss\";\nimport React from \"react\";\nimport axios from \"axios\";\n\nimport { Button, Popover, Typography, Row, Col } from \"antd\";\nimport Areas from \"./CityData/Areas\";\n\nimport Config from \"./Config\";\nimport GoogleAnalyticsTag from \"./Components/GoogleAnalyticsTag\";\nimport FAQModal from \"./Components/FAQModal\";\nimport AddNewPlaceModal from \"./Components/AddNewPlaceModal\";\nimport LogEngagementEvent from \"./Logging\";\nimport NeighborhoodCards from \"./Components/NeighborhoodCards\";\nimport PlaceFilterDisplay from \"./Components/PlaceFilterDisplay\";\nimport ShareOptions from \"./Components/ShareOptions\";\n\naxios.defaults.xsrfCookieName = \"csrftoken\";\naxios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\n\nconst { Title } = Typography;\n\n/*\n * This holds the context of what area (eg, SF, East Bay, etc)\n * is currently enabled\n */\nconst AreaContext = React.createContext({\n  currentArea: null,\n  updateArea: () => {}\n});\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    // TODO this is janktown routing\n    const path = window.location.pathname.slice(1).toLowerCase();\n    const currentArea = Areas[path] ? path : \"midtown\";\n\n    this.state = {\n      faqVisible: false,\n      shareVisible: true,\n      currentArea: currentArea,\n      addPlaceVisible: path === \"addplace\"\n    };\n\n    this.selfRef = React.createRef();\n  }\n\n  showFAQModal() {\n    this.setState({ faqVisible: true });\n  }\n  hideFAQModal() {\n    this.setState({ faqVisible: false });\n  }\n  showShareModal() {\n    this.setState({ shareVisible: true });\n  }\n  hideShareModal() {\n    this.setState({ shareVisible: false });\n  }\n  hideAddModal() {\n    window.history.pushState({}, \"\", \"/\");\n    this.setState({ addPlaceVisible: false });\n  }\n  render() {\n    return (\n      <AreaContext.Provider\n        value={{\n          currentArea: this.state.currentArea,\n          updateArea: newArea => {\n            LogEngagementEvent(\"user-action\", \"selected-area\", newArea);\n            this.setState({ currentArea: newArea });\n          }\n        }}\n      >\n        <div>\n          <div style={{ marginTop: \"0px\" }}>\n            <FAQModal\n              shouldShow={this.state.faqVisible}\n              onClose={() => {\n                this.hideFAQModal();\n              }}\n            />\n            <AddNewPlaceModal\n              shouldShow={this.state.addPlaceVisible}\n              onClose={() => {\n                this.hideAddModal();\n              }}\n            />\n            <Row className=\"hero-row\">\n              <div style={{ maxWidth: \"1100px\", margin: \"0px auto\" }}>\n                <Row className=\"top-header\">\n                  <Col span={24} offset={0}>\n                    <Title style={{ float: \"left\", color: \"white\" }} level={4}>\n                      SaveOurFaves\n                    </Title>\n                    <div style={{ float: \"right\" }}>\n                      <a href=\"#\">\n                        <Title\n                          onClick={() => {\n                            this.showFAQModal();\n                          }}\n                          style={{\n                            color: \"white\",\n                            display: \"inline\",\n                            marginRight: \"16px\"\n                          }}\n                          level={4}\n                        >\n                          FAQ\n                        </Title>\n                      </a>\n                      <Popover content={<ShareOptions />}>\n                        <Button shape=\"round\" className=\"header-button\">\n                          Tell friends\n                        </Button>\n                      </Popover>\n                    </div>\n                  </Col>\n                </Row>\n\n                <Col\n                  xs={{ span: 18, offset: 3 }}\n                  span={16}\n                  offset={4}\n                  style={{ textAlign: \"center\", padding: \"20px 0px\" }}\n                >\n                  <Title\n                    level={1}\n                    style={{ color: \"white\", textAlign: \"center\" }}\n                  >\n                    Your favorite Atlanta restaurant might close forever. Help\n                    save it.\n                  </Title>\n                  <div className=\"header-sans\">\n                    Gift cards help \"flatten the curve\" of lost income from\n                    COVID-19.\n                  </div>\n                </Col>\n                <Col\n                  sm={{ span: 20, offset: 2 }}\n                  md={{ span: 20, offset: 2 }}\n                  lg={{ span: 20, offset: 2 }}\n                >\n                  <div className=\"main-results\">\n                    <div style={{ padding: 20 }}>\n                      <AreaContext.Consumer>\n                        {value => {\n                          return (\n                            <PlaceFilterDisplay updateArea={value.updateArea} />\n                          );\n                        }}\n                      </AreaContext.Consumer>\n                    </div>\n                    <div className=\"neighborhood-card-container-outer\">\n                      <AreaContext.Consumer>\n                        {value => {\n                          return (\n                            <NeighborhoodCards\n                              currentArea={value.currentArea}\n                              updateArea={value.updateArea}\n                            />\n                          );\n                        }}\n                      </AreaContext.Consumer>\n                    </div>\n                  </div>\n                </Col>\n                <Row className=\"footer-content\">\n                  <Col\n                    offset={2}\n                    xs={18}\n                    sm={18}\n                    md={9}\n                    lg={9}\n                    xl={9}\n                    style={{ textAlign: \"left\" }}\n                  >\n                    <Title level={3}>Our duty as loyal customers</Title>\n                    <p>\n                      Our small businesses need us more than ever. Even though\n                      we can’t leave home, we can still support local\n                      restaurants by buying gift cards. It’s basically a\n                      mini-loan, so buy one now and make a plan to use it later.\n                    </p>\n                  </Col>\n                  <Col\n                    offset={2}\n                    xs={18}\n                    sm={18}\n                    md={9}\n                    lg={9}\n                    xl={9}\n                    style={{ textAlign: \"left\" }}\n                  >\n                    <Title level={3}>3 weeks can kill a business</Title>\n                    <p>\n                      Restaurants have tons of fixed costs: rent, labor, loan\n                      repayments, insurance, supplies, repairs – the list goes\n                      on. Even successful restaurants have razor thin margins of\n                      3-5%, and a third have struggled to pay employees at least\n                      once. The “shelter-in-place” ordinance keeping customers\n                      at home could tip the balance into bankruptcy.\n                    </p>\n                  </Col>\n                </Row>\n              </div>\n            </Row>\n          </div>\n        </div>\n        <GoogleAnalyticsTag analyticsID={Config.GoogleAnalyticsID} />\n      </AreaContext.Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}